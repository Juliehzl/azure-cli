interactions:
- request:
    body: '{"name": "iot-hub-for-cert-test000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '60'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.4 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.0.75
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2019-03-22-preview
  response:
    body:
      string: '{"nameAvailable":true,"reason":"Invalid","message":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '56'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 16 Oct 2019 16:52:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.4 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-resource/4.0.0 Azure-SDK-For-Python AZURECLI/2.0.75
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000002?api-version=2019-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002","name":"clitest.rg000002","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2019-10-16T16:52:29Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '428'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 16 Oct 2019 16:52:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"eventHubEndpoints": {"events": {"retentionTimeInDays":
      1, "partitionCount": 2}}}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '158'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.4 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.0.75
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003?api-version=2019-03-22-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003","name":"iot-hub-for-cert-test000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"0b1f6471-1bf0-4dda-aec3-cb9272f09590","resourcegroup":"clitest.rg000002","properties":{"state":"Activating","provisioningState":"Accepted","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfYzkyNGZkNjgtY2Y3Mi00ZDM0LTg4YTMtY2U3ODlkNGI2Mzk2?api-version=2019-03-22-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '990'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 16 Oct 2019 16:52:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.4 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.0.75
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfYzkyNGZkNjgtY2Y3Mi00ZDM0LTg4YTMtY2U3ODlkNGI2Mzk2?api-version=2019-03-22-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 16 Oct 2019 16:53:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.4 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.0.75
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfYzkyNGZkNjgtY2Y3Mi00ZDM0LTg4YTMtY2U3ODlkNGI2Mzk2?api-version=2019-03-22-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 16 Oct 2019 16:53:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.4 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.0.75
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfYzkyNGZkNjgtY2Y3Mi00ZDM0LTg4YTMtY2U3ODlkNGI2Mzk2?api-version=2019-03-22-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 16 Oct 2019 16:54:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.4 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.0.75
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003?api-version=2019-03-22-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003","name":"iot-hub-for-cert-test000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"0b1f6471-1bf0-4dda-aec3-cb9272f09590","resourcegroup":"clitest.rg000002","etag":"AAAAAAjRsrM=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-cert-test000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"iot-hub-for-cert-testow4u","endpoint":"sb://iothub-ns-iot-hub-fo-2321275-cb7b2ed629.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1738'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 16 Oct 2019 16:54:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -p
      User-Agent:
      - python/3.7.4 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.0.75
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates?api-version=2019-03-22-preview
  response:
    body:
      string: '{"value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 16 Oct 2019 16:54:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\r\nMIIDHTCCAgWgAwIBAgIIKewXUwrUzQcwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlQ0dHN1NmhoNXBoNzJ5Z3A0MB4XDTE5MTAxNTE2NTIyOVoXDTE5\r\nMTAxOTE2NTIyOVowIzEhMB8GA1UEAwwYVEVTVENFUlQ0dHN1NmhoNXBoNzJ5Z3A0\r\nMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQA+lI1liSob0yhqvEIvhewL\r\nS7/Cpy5vRQAusHsqtHJqe0J74s02sKPt3XDNOl2s7WyUbLqh4splq++ZtLjkfRB/\r\nsrUmWxwFSAiNpPhphi3K+2h5K4sZ5fwFW0vMRE0Ilk4ZQwdZpvN5Xpp8UlGKasaK\r\nNIIK83nad8Bk+83xMonwbSe/JYtqWWhLZKS8F5KWLu6Q9lw31RcXdJ4DLnALqQMu\r\n3wJQ6+Lx2UQSeBeo2UnrA6p5+JdsgqWQ/oky/0xv0Pdcgdpf3+Czkp3fl171nm9W\r\n9FLMwPHd/Pd1OMrLsqHNDn+akUiotfBDooF8ydzClGRLT1KV9kW6xKPUBepl1aGD\r\nAgMBAAGjVjBUMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYEFNo5o+5ea0sN\r\nMlW/75VgGJCv2AcJMB8GA1UdIwQYMBaAFNo5o+5ea0sNMlW/75VgGJCv2AcJMA0G\r\nCSqGSIb3DQEBCwUAA4IBAQA8rls+2Q9rw44OuJGwwj2gADUm7Ydhz0B81rt4hAlu\r\nG27RzUGlr9CA5ejKo68Qc+zn/6R4KblMpEdyhSUdAYeRaENFYOHA6W37uXd6DQVz\r\nBTKefKruPrXecJnc8lfg9uqjJVt0SPykY9oL9mYpOSicZhtrqlFYQG2G2iIqlRXE\r\n0a+JRW5Zvh2vhwvZIL/VLjhe0IxXN8iPBSg59ATbzrISrKCA+7cXRIsbD1zaTCr4\r\nwIopz0Lx3S3BCIiPqQ7bE2Idh2hNQJeMLVhrcF7c4XJ8HblNb/GKU7dwDvBIo6RZ\r\n3aqhZz0HQ5uDtBuv+EzTHZ8UdrpIuYX4Ba8ozpB309aU\r\n-----END
      CERTIFICATE-----\r\n"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate create
      Connection:
      - keep-alive
      Content-Length:
      - '1215'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --hub-name -g -n -p
      User-Agent:
      - python/3.7.4 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.0.75
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2019-03-22-preview
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000001","expiry":"Sat, 19 Oct 2019
        16:52:29 GMT","thumbprint":"1A25CB2834B52199C723EABC805495389604D155","isVerified":false,"created":"Wed,
        16 Oct 2019 16:54:19 GMT","updated":"Wed, 16 Oct 2019 16:54:19 GMT","certificate":"-----BEGIN
        CERTIFICATE-----\r\nMIIDHTCCAgWgAwIBAgIIKewXUwrUzQcwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlQ0dHN1NmhoNXBoNzJ5Z3A0MB4XDTE5MTAxNTE2NTIyOVoXDTE5\r\nMTAxOTE2NTIyOVowIzEhMB8GA1UEAwwYVEVTVENFUlQ0dHN1NmhoNXBoNzJ5Z3A0\r\nMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQA+lI1liSob0yhqvEIvhewL\r\nS7/Cpy5vRQAusHsqtHJqe0J74s02sKPt3XDNOl2s7WyUbLqh4splq++ZtLjkfRB/\r\nsrUmWxwFSAiNpPhphi3K+2h5K4sZ5fwFW0vMRE0Ilk4ZQwdZpvN5Xpp8UlGKasaK\r\nNIIK83nad8Bk+83xMonwbSe/JYtqWWhLZKS8F5KWLu6Q9lw31RcXdJ4DLnALqQMu\r\n3wJQ6+Lx2UQSeBeo2UnrA6p5+JdsgqWQ/oky/0xv0Pdcgdpf3+Czkp3fl171nm9W\r\n9FLMwPHd/Pd1OMrLsqHNDn+akUiotfBDooF8ydzClGRLT1KV9kW6xKPUBepl1aGD\r\nAgMBAAGjVjBUMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYEFNo5o+5ea0sN\r\nMlW/75VgGJCv2AcJMB8GA1UdIwQYMBaAFNo5o+5ea0sNMlW/75VgGJCv2AcJMA0G\r\nCSqGSIb3DQEBCwUAA4IBAQA8rls+2Q9rw44OuJGwwj2gADUm7Ydhz0B81rt4hAlu\r\nG27RzUGlr9CA5ejKo68Qc+zn/6R4KblMpEdyhSUdAYeRaENFYOHA6W37uXd6DQVz\r\nBTKefKruPrXecJnc8lfg9uqjJVt0SPykY9oL9mYpOSicZhtrqlFYQG2G2iIqlRXE\r\n0a+JRW5Zvh2vhwvZIL/VLjhe0IxXN8iPBSg59ATbzrISrKCA+7cXRIsbD1zaTCr4\r\nwIopz0Lx3S3BCIiPqQ7bE2Idh2hNQJeMLVhrcF7c4XJ8HblNb/GKU7dwDvBIo6RZ\r\n3aqhZz0HQ5uDtBuv+EzTHZ8UdrpIuYX4Ba8ozpB309aU\r\n-----END
        CERTIFICATE-----\r\n"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAjRsxQ="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1891'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 16 Oct 2019 16:54:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1191'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - python/3.7.4 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.0.75
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates?api-version=2019-03-22-preview
  response:
    body:
      string: '{"value":[{"properties":{"subject":"TESTCERT000001","expiry":"Sat,
        19 Oct 2019 16:52:29 GMT","thumbprint":"1A25CB2834B52199C723EABC805495389604D155","isVerified":false,"created":"Wed,
        16 Oct 2019 16:54:19 GMT","updated":"Wed, 16 Oct 2019 16:54:19 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAjRsxQ="}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '709'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 16 Oct 2019 16:54:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - python/3.7.4 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.0.75
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2019-03-22-preview
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000001","expiry":"Sat, 19 Oct 2019
        16:52:29 GMT","thumbprint":"1A25CB2834B52199C723EABC805495389604D155","isVerified":false,"created":"Wed,
        16 Oct 2019 16:54:19 GMT","updated":"Wed, 16 Oct 2019 16:54:19 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAjRsxQ="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '697'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 16 Oct 2019 16:54:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate generate-verification-code
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      If-Match:
      - AAAAAAjRsxQ=
      ParameterSetName:
      - --hub-name -g -n --etag
      User-Agent:
      - python/3.7.4 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.0.75
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004/generateVerificationCode?api-version=2019-03-22-preview
  response:
    body:
      string: '{"properties":{"verificationCode":"43EA62B704DF8F541C8809B7E9F10311EB5D087A84DB531C","subject":"TESTCERT000001","expiry":"Sat,
        19 Oct 2019 16:52:29 GMT","thumbprint":"1A25CB2834B52199C723EABC805495389604D155","isVerified":false,"created":"Wed,
        16 Oct 2019 16:54:19 GMT","updated":"Wed, 16 Oct 2019 16:54:24 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAjRsys="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '767'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 16 Oct 2019 16:54:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1193'
    status:
      code: 200
      message: OK
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\r\nMIIDAjCCAeqgAwIBAgIIAU05uxjYoG4wDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlQ0dHN1NmhoNXBoNzJ5Z3A0MB4XDTE5MTAxNTE2NTQyNVoXDTE5\r\nMTAxOTE2NTQyNVowOzE5MDcGA1UEAwwwNDNFQTYyQjcwNERGOEY1NDFDODgwOUI3\r\nRTlGMTAzMTFFQjVEMDg3QTg0REI1MzFDMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4A\r\nMIIBCQKCAQA8+hpvqJdit6ma5Y7Q32c3rthX8Mu/E6Xws3dpoSgOOiegRq5lL+V8\r\nZ9YXPk40Kjv9xDa/UXZoVOewJ0RHhN/Br4/+Fyb5BciQcY4vDIHDPBOE7GpykwYL\r\nFNJpwyTWDlCyk93yQnZncleO+OsclXIAEk52LgMPsESVGxsqsumQ/JdQSMfJ28fv\r\nAzaEpUfRyJCCEcuIJfDr8hjSCvwNXUbj11YBjiZr0OWzceAgLMe5pZskCnfe+wm9\r\nlrWZF7I4MKhykJX1fBD4zCPou6YPE6kqZALIArHBoENXCcUVxlKqLJDAteoqqR8j\r\nx0pr/DqckYywZDI3i1iZg0n6DfIGYgBPAgMBAAGjIzAhMB8GA1UdIwQYMBaAFNo5\r\no+5ea0sNMlW/75VgGJCv2AcJMA0GCSqGSIb3DQEBCwUAA4IBAQAPdhzqQF81+Z4S\r\na9BHPsY5kF4MBx38Q7XeYleWJs5DreDye2k2N6d8YdsBazC/nYa7HaFGk5kHIqEw\r\no6xymtnbJePHsjjV5+YrMQnzjYAIi3Zl69/pDysXhYneribFfik/T6hzoRH38aTV\r\nBfBQ0CKHqiC4vgjicSyXaFfY9I0egzYQ9ZysszuQHgL9LGdV8XjGXwaT4UgwSKDa\r\nxf5kvPYvNofFQlTq5ca0B4tqWUoRoh5PpV/aDN+DcmZDUdl2NvYeTQjVMZgNhGS7\r\nb5ORvt1ksxrg0ibrgWlMnQDHzt5zqql4ewHwdXZuU92Cs8A5sl2KT1iv3X26Ii9V\r\nPu75PDPr\r\n-----END
      CERTIFICATE-----\r\n"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate verify
      Connection:
      - keep-alive
      Content-Length:
      - '1179'
      Content-Type:
      - application/json; charset=utf-8
      If-Match:
      - AAAAAAjRsys=
      ParameterSetName:
      - --hub-name -g -n -p --etag
      User-Agent:
      - python/3.7.4 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.0.75
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004/verify?api-version=2019-03-22-preview
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000001","expiry":"Sat, 19 Oct 2019
        16:52:29 GMT","thumbprint":"1A25CB2834B52199C723EABC805495389604D155","isVerified":true,"created":"Wed,
        16 Oct 2019 16:54:19 GMT","updated":"Wed, 16 Oct 2019 16:54:26 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAjRszU="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '696'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 16 Oct 2019 16:54:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      If-Match:
      - AAAAAAjRszU=
      ParameterSetName:
      - --hub-name -g -n --etag
      User-Agent:
      - python/3.7.4 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.0.75
      accept-language:
      - en-US
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2019-03-22-preview
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 16 Oct 2019 16:54:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14990'
    status:
      code: 200
      message: OK
version: 1
